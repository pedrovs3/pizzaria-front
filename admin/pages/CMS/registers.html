<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta charset="UTF-8">
    <title>Pizza Paradiso - CMS</title>

    <script crossorigin="anonymous" src="https://kit.fontawesome.com/e2a54895da.js"></script>
    <link href="../../assets/css/register_styles/styles.css" rel="stylesheet">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js"></script>
    <script defer src="../../js/utils/register.js" type="module"></script>
    <script>
        const fetchTypes = async (categoryInput, divToAppend) => {
            try {
                if(divToAppend.lastElementChild) {
                    divToAppend.innerHTML = '';
                }

                let typeSelected = categoryInput.value.toLowerCase();
                if(typeSelected.includes("bebida")) typeSelected = "drink"

                const { data } = await axios.get(`https://pizza-cms-api.netlify.app/.netlify/functions/server/${typeSelected}/types`, {headers: { common:{ Authorization: `Bearer ${localStorage.getItem('access_token')}`}}});

                data.payload.forEach((type) => {
                    const option = document.createElement('option');
                    option.value = type.name;
                    option.textContent = type.name;

                    divToAppend.appendChild(option);
                });
            } catch (e) {
                console.log(e);
            }
        };
    </script>
</head>
<body>
<header class="header">
    <img alt="logo da empresa" src="../../../assets/img/Logo.png">
</header>
<main>
    <div class="main__menu-select">
        <div class="user">
            <input checked id="new_user_option" name="option" type="radio" value="new_user"/>
            <label for="new_user_option">Usu√°rio</label>
        </div>
        <span class="line"></span>
        <div class="product">
            <input id="new_product_option" name="option" type="radio" value="new_product"/>
            <label for="new_product_option">Produto</label>
        </div>
    </div>
    <div class="main__form">
        <form class="main__form__form" method="POST">
            <fieldset>
                <input class="input-string" name="name" placeholder="Name" type="text">
                <input class="input-string" name="email" placeholder="E-mail" type="email">
                <input class="input-string" name="cellphone" placeholder="Telefone" type="tel">
                <input class="input-string" name="password" placeholder="Password" type="password">
            </fieldset>
            <label class="file" for="imagem">
                <i class="fa-regular fa-user"></i>
            </label>
            <input id="imagem" name="profile_picture" type="file">

        </form>
    </div>
    <button class="button_cadastro" type="button">Cadastrar</button>
</main>
</body>
</html>
